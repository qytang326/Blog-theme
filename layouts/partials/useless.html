<!-- jquery.tagcloud.js -->
<script type="text/javascript">
    /* only load tagcloud.js in tag.html */
    if($('#tag_cloud').length !== 0){
        async('{{ .Site.BaseURL }}/js/jquery.tagcloud.min.js',function(){
            $.fn.tagcloud.defaults = {
                /* size: {start: 1, end: 1, unit: 'em'}, */
                color: {start: '#bbbbee', end: '#0085a1'},
            };
         /* $('#tag_cloud a').tagcloud(); */
            $('#tag_cloud').find('a').tagcloud();
        })
    }
</script>

<!-- Side Catalog -->
{{ if and .Params.catalog false }} <!-- 增加Params.catalog 参考even-->
<script type="text/javascript">
    function generateCatalog (selector) {
        /* interop with multilangual */
        if ({{ .Params.multilingual }}) {
            _containerSelector = 'div.post-container.active'
        } else {
            _containerSelector = 'div.post-container'
        }
        /* init */
        var P = $(_containerSelector),a,n,t,l,i,c;
        a = P.find('h1,h2,h3,h4,h5,h6');
        /* clean */
        $(selector).html('');
        /* appending */
        a.each(function () {
            n = $(this).prop('tagName').toLowerCase();
            i = "#"+$(this).prop('id');
            t = $(this).text();
            c = $('<a href="'+i+'" rel="nofollow">'+t+'</a>');
            l = $('<li class="'+n+'_nav"></li>').append(c);
            $(selector).append(l);
        });
        return true;
    }
    generateCatalog(".catalog-body");
    /* toggle side catalog */
    $(".catalog-toggle").click((function(e){
        e.preventDefault();
        $('.side-catalog').toggleClass("fold")
    }));
    /*
     * Doc: https://github.com/davist11/jQuery-One-Page-Nav
     * Fork by Hux to support padding
     */
    async("{{ .Site.BaseURL }}/js/jquery.nav.min.js", function () {
        $('.catalog-body').onePageNav({
            currentClass: "active",
            changeHash: !1,
            easing: "swing",
            filter: "",
            scrollSpeed: 700,
            scrollOffset: 0,
            scrollThreshold: .2,
            begin: null,
            end: null,
            scrollChange: null,
            padding: 80
        });
    });
</script>
{{ end }}