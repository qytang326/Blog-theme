/*! Quanyin Blog Theme v2.0.0 (https://qytang326.github.io) || Copyright 2018 Quanyin Tang <qytang326@gmail.com> */
$(document).ready(function(){$("table").wrap("<div class='table-responsive'></div>"),$("table").addClass("table")}),$(document).ready(function(){$('iframe[src*="youtube.com"]').wrap('<div class="embed-responsive embed-responsive-16by9"></div>'),$('iframe[src*="youtube.com"]').addClass("embed-responsive-item"),$('iframe[src*="vimeo.com"]').wrap('<div class="embed-responsive embed-responsive-16by9"></div>'),$('iframe[src*="vimeo.com"]').addClass("embed-responsive-item")}),jQuery(document).ready(function(e){if(e(window).width()>1170){var t=e(".navbar-custom").height(),n=e(".intro-header .container").height();e(window).on("scroll",{previousTop:0},function(){var a=e(window).scrollTop(),o=e(".side-catalog");a<this.previousTop?a>0&&e(".navbar-custom").hasClass("is-fixed")?e(".navbar-custom").addClass("is-visible"):e(".navbar-custom").removeClass("is-visible is-fixed"):(e(".navbar-custom").removeClass("is-visible"),a>t&&!e(".navbar-custom").hasClass("is-fixed")&&e(".navbar-custom").addClass("is-fixed")),this.previousTop=a,o.show(),a>n+41?o.addClass("fixed"):o.removeClass("fixed")})}});var bszCaller,bszTag,createSnackbar=function(){var e=null;return function(t){var n=t.message,a=t.actionText,o=t.action,i=t.duration;e&&e.dismiss();var s=document.createElement("div");s.className="paper-snackbar",s.dismiss=function(){this.style.opacity=0};var r=document.createTextNode(n);if(s.appendChild(r),a){o||(o=s.dismiss.bind(s));var c=document.createElement("button");c.className="action",c.innerHTML=a,c.addEventListener("click",o),s.appendChild(c)}setTimeout(function(){e===this&&e.dismiss()}.bind(s),i||5e3),s.addEventListener("transitionend",function(t,n){"opacity"===t.propertyName&&0==this.style.opacity&&(this.parentElement.removeChild(this),e===this&&(e=null))}.bind(s)),e=s,document.body.appendChild(s),getComputedStyle(s).bottom,s.style.bottom="0px",s.style.opacity=1}}();function handleRegistration(e){console.log("Service Worker Registered. ",e),e.onupdatefound=function(t){var n=e.installing;n.onstatechange=function(e){"installed"===n.state&&(navigator.serviceWorker.controller?console.log("SW is updated"):(console.log("A Visit without previous SW"),createSnackbar({message:"App ready for offline use.",duration:3e3})))}}}navigator.serviceWorker&&(navigator.serviceWorker.register("/sw.min.js").then(function(e){return handleRegistration(e)}).catch(function(e){console.log("ServiceWorker registration failed: ",e)}),navigator.serviceWorker.onmessage=function(e){console.log("SW: SW Broadcasting:",event);var t=e.data;"UPDATE_FOUND"==t.command&&(console.log("UPDATE_FOUND_BY_SW",t),createSnackbar({message:"Content updated.",actionText:"refresh",action:function(e){location.reload()}}))}),function(){var e,t,n,a=!1,o=[];ready=function(e){return a||"interactive"===document.readyState||"complete"===document.readyState?e.call(document):o.push(function(){return e.call(this)}),this},t=function(){for(var e=0,t=o.length;t>e;e++)o[e].apply(document);o=[]},n=function(){a||(a=!0,t.call(window),document.removeEventListener?document.removeEventListener("DOMContentLoaded",n,!1):document.attachEvent&&(document.detachEvent("onreadystatechange",n),window==window.top&&(clearInterval(e),e=null)))},document.addEventListener?document.addEventListener("DOMContentLoaded",n,!1):document.attachEvent&&(document.attachEvent("onreadystatechange",function(){/loaded|complete/.test(document.readyState)&&n()}),window==window.top&&(e=setInterval(function(){try{a||document.documentElement.doScroll("left")}catch(e){return}n()},5)))}(),(bszCaller={fetch:function(e,t){var n="BusuanziCallback_"+Math.floor(1099511627776*Math.random());window[n]=this.evalCall(t),e=e.replace("=BusuanziCallback","="+n),scriptTag=document.createElement("SCRIPT"),scriptTag.type="text/javascript",scriptTag.defer=!0,scriptTag.src=e,document.getElementsByTagName("HEAD")[0].appendChild(scriptTag)},evalCall:function(e){return function(t){ready(function(){try{e(t),scriptTag.parentElement.removeChild(scriptTag)}catch(e){bszTag.hides()}})}}}).fetch("//busuanzi.ibruce.info/busuanzi?jsonpCallback=BusuanziCallback",function(e){bszTag.texts(e),bszTag.shows()}),bszTag={bszs:["site_pv","page_pv","site_uv"],texts:function(e){this.bszs.map(function(t){var n=document.getElementById("busuanzi_value_"+t);n&&(n.innerHTML=e[t])})},hides:function(){this.bszs.map(function(e){var t=document.getElementById("busuanzi_container_"+e);t&&(t.style.display="none")})},shows:function(){this.bszs.map(function(e){var t=document.getElementById("busuanzi_container_"+e);t&&(t.style.display="inline")})}},function(e){"use strict";e.loadCSS||(e.loadCSS=function(){});var t=loadCSS.relpreload={};if(t.support=function(){var t;try{t=e.document.createElement("link").relList.supports("preload")}catch(e){t=!1}return function(){return t}}(),t.bindMediaToggle=function(e){var t=e.media||"all";function n(){e.media=t}e.addEventListener?e.addEventListener("load",n):e.attachEvent&&e.attachEvent("onload",n),setTimeout(function(){e.rel="stylesheet",e.media="only x"}),setTimeout(n,3e3)},t.poly=function(){if(!t.support())for(var n=e.document.getElementsByTagName("link"),a=0;a<n.length;a++){var o=n[a];"preload"!==o.rel||"style"!==o.getAttribute("as")||o.getAttribute("data-loadcss")||(o.setAttribute("data-loadcss",!0),t.bindMediaToggle(o))}},!t.support()){t.poly();var n=e.setInterval(t.poly,500);e.addEventListener?e.addEventListener("load",function(){t.poly(),e.clearInterval(n)}):e.attachEvent&&e.attachEvent("onload",function(){t.poly(),e.clearInterval(n)})}"undefined"!=typeof exports?exports.loadCSS=loadCSS:e.loadCSS=loadCSS}("undefined"!=typeof global?global:this),window.onscroll=function(){var e=document.getElementsByClassName("back2top");e.length>0&&(e[0].style.display=document.documentElement.scrollTop>=300||document.body.scrollTop>=300?"block":"none",e[0].onclick=function(){document.body.scrollTop=0,document.documentElement.scrollTop=0})};